Installation
-----------

It is recommended to use a clean (fresh) debian etch install where you just selected "Standard System" as package selection during setup. Then follow the steps below to prepare your server for ISPConfig 3:

1) Install Postfix, Courier, Saslauthd, MySQL, phpMyAdmin with one single command (one line!):

apt-get install postfix postfix-mysql postfix-doc mysql-client mysql-server courier-authdaemon courier-authlib-mysql courier-pop courier-pop-ssl courier-imap courier-imap-ssl postfix-tls libsasl2 libsasl2-modules libsasl2-modules-sql sasl2-bin libpam-mysql openssl courier-maildrop getmail4

Answer the questions from the package manager as follows.

Create directories for web-based administration ? <-- No
General type of configuration? <-- Internet site
Mail name? <-- server1.mydomain.tld
 SSL certificate required <-- Ok

...use your own domain name of course ;)

2) Install Amavisd-new, Spamassassin and Clamav (1 line!):

apt-get install amavisd-new spamassassin clamav clamav-daemon zoo unzip bzip2 arj nomarch lzop cabextract apt-listchanges libnet-ldap-perl libauthen-sasl-perl clamav-docs daemon libio-string-perl libio-socket-ssl-perl libnet-ident-perl zip


3) Install apache, PHP5 and phpmyadmin (1 line!):

apt-get install apache2 apache2.2-common apache2-doc apache2-mpm-prefork apache2-utils libexpat1 ssl-cert libapache2-mod-php5 php5 php5-common php5-gd php5-mysql php5-imap phpmyadmin

Then run:

a2enmod suexec
a2enmod rewrite

4) Install pure-ftpd and quota

apt-get install pure-ftpd-common pure-ftpd-mysql quota quotatool


5) Install mydns

apt-get install mydns-mysql

The mydns installer is a bit tricky, you will have to select to create a new database for mydns and use a existing mysql user, e.g. the mysql root user. This database is only to fullfill the requirements for the debian pacakge during installation and will not be used by ISPConfig later. ISPConfig will automatically change the mydns configuration files to use the ISPConfig database.


6) Install vlogger and webalizer

apt-get install vlogger webalizer


7) Install ISPConfig 3

There are 2 possile cenarias a) Insatll the latest alpha 2 or b) install directly from SVN. You just have to do either a) or b) but not both!

apt-get install php5-cli

a) Installation of alpha 2

  cd /tmp
  wget http://www.ispconfig.org/downloads/ISPConfig_3.0.0.2-alpha.tar.gz
  tar xvfz ISPConfig_3.0.0.2-alpha.tar.gz
  cd ISPConfig_3.0.0.2-alpha/install/

b) Installation from SVN

  cd /tmp
  svn export svn://svn.ispconfig.org/ispconfig3/trunk/
  cd trunk/install


a+b) Now proceed with the ISPConfig installation.


The installer does not ask any questions yet, so everything must be edited in the config file before you start the installer. 

vi dist/conf/debian40.conf.php

There are just two values that you should change:

Enter the mysql root password in this line. If the password is e.g. secret, the line should look like this:

$conf["mysql_server_admin_password"] = "secret";

The other line is:

$conf["mysql_server_ispconfig_password"] = "5sDrewBhk";

Replace "5sDrewBhk" with a password of your choice, the installer will create a new mysql database user named "ispconfig" and the user will get the password that you enter in this line.

Now start the installation process by executing:

php -q install.php

The installer will configure all services like postfix, sasl, courier, etc. for you. A manual setup as required for ISPConfig 2 (perfect setup guides) is not nescessary. To login to the ISPConfig controlpanel, open the following URL in your browser (replace the IP to match your settings!):

http://192.168.0.100:8080/

the default login is:

user: admin
password: admin

In case you get a permission denied error from apache, please restart the apache webserver process.